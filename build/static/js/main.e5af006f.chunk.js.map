{"version":3,"sources":["logo.svg","Joke.js","JokeParent.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Joke","props","state","data","this","votes","className","onClick","upvote","style","borderColor","getColor","downvote","text","getEmoji","Component","JokeParent","jokes","JSON","parse","window","localStorage","getItem","loading","seenJokes","Set","map","j","console","log","handleVote","bind","getJokes","handleClick","length","setState","numJokesToGet","axios","get","headers","Accept","res","newJoke","joke","has","push","id","uuid","st","setItem","stringify","alert","delta","sort","a","b","src","key","defaultProps","App","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"6JAAAA,EAAOC,QAAU,IAA0B,kC,gNCgE5BC,G,uDA7Db,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CAAEC,KAAM,IAFJ,E,uDAQjB,OAAIC,KAAKH,MAAMI,OAAS,GACf,UACED,KAAKH,MAAMI,OAAS,GACtB,UACED,KAAKH,MAAMI,OAAS,EACtB,UACED,KAAKH,MAAMI,OAAS,EACtB,UACED,KAAKH,MAAMI,OAAS,EACtB,UACED,KAAKH,MAAMI,OAAS,EACtB,UAEA,Y,iCAIT,OAAID,KAAKH,MAAMI,OAAS,GACf,sCACED,KAAKH,MAAMI,OAAS,GACtB,iBACED,KAAKH,MAAMI,OAAS,EACtB,eACED,KAAKH,MAAMI,OAAS,EACtB,8BACED,KAAKH,MAAMI,OAAS,EACtB,qBACED,KAAKH,MAAMI,OAAS,EACtB,iBAEA,gB,+BAKT,OACE,yBAAKC,UAAU,QACb,yBAAKA,UAAU,gBACb,uBAAGA,UAAU,kBAAkBC,QAASH,KAAKH,MAAMO,SACnD,0BAAMF,UAAU,aAAaG,MAAO,CAAEC,YAAaN,KAAKO,aACrDP,KAAKH,MAAMI,OAEd,uBAAGC,UAAU,oBAAoBC,QAASH,KAAKH,MAAMW,YAEvD,yBAAKN,UAAU,aAAaF,KAAKH,MAAMY,MACvC,yBAAKP,UAAU,eACb,uBAAGA,UAAWF,KAAKU,mB,GAvDVC,c,iBCIbC,E,kDAKJ,WAAYf,GAAQ,IAAD,8BACjB,cAAMA,IAEGC,MAAQ,CACXe,MAAOC,KAAKC,MAAMC,OAAOC,aAAaC,QAAQ,UAAY,MAC1DC,SAAS,GAIf,EAAKC,UAAY,IAAIC,IAAI,EAAKvB,MAAMe,MAAMS,KAAI,SAAAC,GAAC,OAAIA,EAAEd,SACrDe,QAAQC,IAAI,EAAKL,WACjB,EAAKM,WAAa,EAAKA,WAAWC,KAAhB,gBAClB,EAAKC,SAAW,EAAKA,SAASD,KAAd,gBAChB,EAAKE,YAAc,EAAKA,YAAYF,KAAjB,gBAbF,E,gEAkBe,IAA5B3B,KAAKF,MAAMe,MAAMiB,QACnB9B,KAAK4B,a,oCAiBP5B,KAAK+B,SAAS,CAAEZ,SAAS,GAAQnB,KAAK4B,Y,qKAMpCJ,QAAQC,IAAI,wBAGRZ,EAAQ,G,YAELA,EAAMiB,OAAS9B,KAAKH,MAAMmC,e,iCACfC,IAAMC,IAAI,8BAA+B,CACvDC,QAAS,CAAEC,OAAQ,sB,OADjBC,E,OAkBAC,EAAUD,EAAItC,KAAKwC,KAClBvC,KAAKoB,UAAUoB,IAAIF,GAGtBd,QAAQC,IAAI,oBAAqBa,GAFjCzB,EAAM4B,KAAK,CAAEC,GAAIC,MAAQlC,KAAM6B,EAASrC,MAAO,I,uBAWnDD,KAAK+B,UACH,SAAAa,GAAE,MAAK,CACLzB,SAAS,EACTN,MAAM,GAAD,mBAAM+B,EAAG/B,OAAUA,OAI1B,kBACEG,OAAOC,aAAa4B,QAAQ,QAAS/B,KAAKgC,UAAU,EAAKhD,MAAMe,W,kDAGnEkC,MAAM,EAAD,IACL/C,KAAK+B,SAAS,CAAEZ,SAAS,I,iJAMlBuB,EAAIM,GAAQ,IAAD,OAGpBxB,QAAQC,IACN,yCACAiB,EACA,oBACAM,GAGFxB,QAAQC,IAAI,yCAMZzB,KAAK+B,UACH,SAAAa,GAAE,MAAK,CACL/B,MAAO+B,EAAG/B,MAAMS,KAAI,SAAAC,GAAC,OACnBA,EAAEmB,KAAOA,EAAT,2BAAmBnB,GAAnB,IAAsBtB,MAAOsB,EAAEtB,MAAQ+C,IAAUzB,SAKrD,kBACEP,OAAOC,aAAa4B,QAAQ,QAAS/B,KAAKgC,UAAU,EAAKhD,MAAMe,a,+BAI3D,IAAD,OAGP,GAAIb,KAAKF,MAAMqB,QACb,OACE,yBAAKjB,UAAU,oBACb,uBAAGA,UAAU,+BACb,wBAAIA,UAAU,kBAAd,gBAKN,IAAIW,EAAQb,KAAKF,MAAMe,MAAMoC,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAElD,MAAQiD,EAAEjD,SACxD,OACE,yBAAKC,UAAU,YACb,yBAAKA,UAAU,oBACb,wBAAIA,UAAU,kBACZ,wCAEF,yBAAKkD,IAAI,+FACT,4BAAQlD,UAAU,mBAAmBC,QAASH,KAAK6B,aAAnD,cAKF,yBAAK3B,UAAU,kBAGb,6BACGW,EAAMS,KAAI,SAAAC,GAAC,OACV,kBAAC,EAAD,CACE8B,IAAK9B,EAAEmB,GACPA,GAAInB,EAAEmB,GACNzC,MAAOsB,EAAEtB,MACTQ,KAAMc,EAAEd,KACRI,MAAQ,EAAKf,MAAMe,MAEnBT,OAAQ,kBAAM,EAAKsB,WAAWH,EAAEmB,GAAI,IACpClC,SAAU,kBAAM,EAAKkB,WAAWH,EAAEmB,IAAK,gB,GAzK9B/B,aAAnBC,EACG0C,aAAe,CACpBtB,cAAe,IAoLJpB,QC9KA2C,MARf,WACE,OACE,yBAAKrD,UAAU,OACZ,kBAAC,EAAD,QCGasD,QACW,cAA7BxC,OAAOyC,SAASC,UAEe,UAA7B1C,OAAOyC,SAASC,UAEhB1C,OAAOyC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLhD,QAAQgD,MAAMA,EAAMC,a","file":"static/js/main.e5af006f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","import React, { Component } from \"react\";\nimport \"./joke.scss\";\nclass Joke extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { data: [] };\n    /* this.handleClickVoteUp = this.handleClickVoteUp.bind(this);\n    this.handleClickVoteDown = this.handleClickVoteDown.bind(this); */\n  }\n\n  getColor() {\n    if (this.props.votes >= 15) {\n      return \"#4CAF50\";\n    } else if (this.props.votes >= 12) {\n      return \"#8BC34A\";\n    } else if (this.props.votes >= 9) {\n      return \"#CDDC39\";\n    } else if (this.props.votes >= 6) {\n      return \"#FFEB3B\";\n    } else if (this.props.votes >= 3) {\n      return \"#FFC107\";\n    } else if (this.props.votes >= 0) {\n      return \"#FF9800\";\n    } else {\n      return \"#f44336\";\n    }\n  }\n  getEmoji() {\n    if (this.props.votes >= 15) {\n      return \"em em-rolling_on_the_floor_laughing\";\n    } else if (this.props.votes >= 12) {\n      return \"em em-laughing\";\n    } else if (this.props.votes >= 9) {\n      return \"em em-smiley\";\n    } else if (this.props.votes >= 6) {\n      return \"em em-slightly_smiling_face\";\n    } else if (this.props.votes >= 3) {\n      return \"em em-neutral_face\";\n    } else if (this.props.votes >= 0) {\n      return \"em em-confused\";\n    } else {\n      return \"em em-angry\";\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"Joke\">\n        <div className=\"Joke-buttons\">\n          <i className=\"fas fa-arrow-up\" onClick={this.props.upvote} />\n          <span className=\"Joke-votes\" style={{ borderColor: this.getColor() }}>\n            {this.props.votes}\n          </span>\n          <i className=\"fas fa-arrow-down\" onClick={this.props.downvote} />\n        </div>\n        <div className=\"Joke-text\">{this.props.text}</div>\n        <div className=\"Joke-smiley\">\n          <i className={this.getEmoji()} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Joke;\n\n/*   handleClickVoteUp() {\n    console.log(\"the id passed back from joke.js is\", this.props.id);\n    let delta = \"++\";\n    this.props.handleVote(this.props.id, delta);\n  }\n\n  handleClickVoteDown() {\n    console.log(\"the id passed back from joke.js  is\", this.props.id);\n    let delta = \"--\";\n    this.props.handleVote(this.props.id, delta);\n  } */\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Joke from \"./Joke\";\nimport uuid from \"uuid/v4\";\nimport \"./joke.scss\";\n\nclass JokeParent extends Component {\n  static defaultProps = {\n    numJokesToGet: 10\n  };\n\n  constructor(props) {\n    super(props);\n    // Get this from localstorage and parse it, else return empty array.\n        this.state = {\n          jokes: JSON.parse(window.localStorage.getItem(\"jokes\") || \"[]\"),\n          loading: false\n        };\n    // Making sure that we load existing jokes into our set\n    // so that we can compare to new ones.\n    this.seenJokes = new Set(this.state.jokes.map(j => j.text));\n    console.log(this.seenJokes);\n    this.handleVote = this.handleVote.bind(this);\n    this.getJokes = this.getJokes.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  componentDidMount() {\n    // Making sure that we dont overwrrite the existing jokes in localstorage on page refresh\n    if (this.state.jokes.length === 0) {\n      this.getJokes();\n      /*  console.log(\"Jokes are empty\");\n      console.log(\"Im getting jokes\");\n      this.setState({ isLoaded: false });\n      setInterval(() => {\n        this.getJokes();\n        this.setState({ isLoaded: true });\n      }, 1000); */\n    } /* else {\n      console.log(\"Jokes are not empty\");\n      console.log(\"isloaded is true\");\n      this.setState({ isLoaded: true });\n    } */\n  }\n\n  handleClick() {\n    //Setting state and runing getJokes as a callback when state is done being set.\n    this.setState({ loading: true }, this.getJokes);\n    //this.getJokes();\n  }\n\n  async getJokes() {\n    try {\n      console.log(\"COMPONENT DID MOUNT \");\n      // load jokes\n      // we are using this array to push the jokes into from the response of the axios.get\n      let jokes = [];\n      // We are looping over jokes.length compared to the prop set to 10, so we only grab 10 jokes at a time\n      while (jokes.length < this.props.numJokesToGet) {\n        let res = await axios.get(\"https://icanhazdadjoke.com/\", {\n          headers: { Accept: \"application/json\" }\n        });\n        //pushing jokes into array, as an object.\n        // Setting the unique ID here when we are pushing our data object into our state.\n        //So this is going to wait until the state is actually updated once that finishes.\n        //This will be called which is going to take everything in this dot state DOT jokes and save it to local\n        //storage.\n\n        ////////// CHECKING FOR UNIQUE JOKES WITH OUR SET /////////\n        // This plays together with using a forloop to check for jokes.length\n        //So we didn't reject it and not load another alternate joke because then we would have forty nine items.\n        /* We just kept looping in the while loop and that's why I didn't hardcode as a for loop.\n        We made it a while loop so that if we do find a duplicate we're using jokes at length.\n        So jokes that length isn't going to grow it's not going to increase.\n        So this loop is going to keep looping until\n        We actually get 10 new jokes. */\n\n        let newJoke = res.data.joke;\n        if (!this.seenJokes.has(newJoke)) {\n          jokes.push({ id: uuid(), text: newJoke, votes: 0 });\n        } else {\n          console.log(\"FOUND A DUPLICATE\", newJoke);\n        }\n      }\n\n      ////////////////// MERGING OLD JOKES WITH NEW JOKES\n      // Setting state with our jokes array\n      // oldstate is grabbed\n      //we set state to an existing previous array of jokes and all the new jokes\n      // That we just got from fetching from our API\n      this.setState(\n        st => ({\n          loading: false,\n          jokes: [...st.jokes, ...jokes]\n        }),\n        // Passing in funtion that runs after set state  finishes\n        //Saving jokes to localstorage to make sure votes are also saved in localStorage\n        () =>\n          window.localStorage.setItem(\"jokes\", JSON.stringify(this.state.jokes))\n      );\n    } catch (e) {\n      alert(e);\n      this.setState({ loading: false });\n    }\n  }\n\n  ////////// This function is triggered by the onclick from our child joke.js\n\n  handleVote(id, delta) {\n    // Logic to handle votes based on ID\n    //Check based on id from joke.js which joke needs to get a vote +1 or deducted.\n    console.log(\n      \"this is the ID recieved in jokelist.js\",\n      id,\n      \"it was sent from \",\n      delta\n    );\n    ////////Sending data to state and updating state\n    console.log(\"Handlevote triggered from jokelist.js\");\n\n    // Here we are setting state, passing in ID from onclick handler in the child component\n    // We are doing the callback form, updating jokes in state comparing it to the old state\n    // we return the existing joke, but set the votes and the delta on top.\n    // the delta will increase or decrement the votecount...\n    this.setState(\n      st => ({\n        jokes: st.jokes.map(j =>\n          j.id === id ? { ...j, votes: j.votes + delta } : j\n        )\n        // Passing in funtion that runs after set state  finishes\n        //Saving jokes to localstorage to make sure votes are also saved in localStorage\n      }),\n      () =>\n        window.localStorage.setItem(\"jokes\", JSON.stringify(this.state.jokes))\n    );\n  }\n\n  render() {\n    ////// With an ifstatement here we can conditionally render what is returned fist.\n    // This is why the spinner fills the entire screen here.\n    if (this.state.loading) {\n      return (\n        <div className=\"JokeList-spinner\">\n          <i className=\"far fa-8x fa-laugh fa-spin\" />\n          <h1 className=\"JokeList-title\">loading....</h1>\n        </div>\n      );\n    }\n    //console.log(this.state);\n    let jokes = this.state.jokes.sort((a, b) => b.votes - a.votes);\n    return (\n      <div className=\"JokeList\">\n        <div className=\"JokeList-sidebar\">\n          <h1 className=\"JokeList-title\">\n            <span>Jokes</span>\n          </h1>\n          <img src=\"https://assets.dryicons.com/uploads/icon/svg/8927/0eb14c71-38f2-433a-bfc8-23d9c99b3647.svg\" />\n          <button className=\"JokeList-getmore\" onClick={this.handleClick}>\n            New jokes\n          </button>\n        </div>\n\n        <div className=\"JokeList-jokes\">\n          {/* Mapping over Joke Array to grab data and display. */}\n          {/*  {this.state.loading ? ( */}\n          <div>\n            {jokes.map(j => (\n              <Joke\n                key={j.id}\n                id={j.id}\n                votes={j.votes}\n                text={j.text}\n                jokes ={this.state.jokes}\n                //handleVote={this.handleVote}\n                upvote={() => this.handleVote(j.id, 1)}\n                downvote={() => this.handleVote(j.id, -1)}\n              />\n            ))}\n          </div>\n          {/*  ) : (\n            <div className=\"loader\" />\n          )} */}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default JokeParent;\n","import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport JokeParent from \"./JokeParent\";\nimport \"./joke.scss\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n       <JokeParent />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}